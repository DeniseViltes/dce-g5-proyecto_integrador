Version 4
SHEET 1 2244 696
WIRE -272 -80 -272 -128
WIRE -192 -80 -272 -80
WIRE -16 -80 -128 -80
WIRE 256 -80 256 -224
WIRE -16 -32 -16 -80
WIRE -16 -32 -48 -32
WIRE -16 -16 -16 -32
WIRE 96 0 80 0
WIRE 208 0 176 0
WIRE -272 32 -272 -80
WIRE -272 32 -464 32
WIRE -192 32 -272 32
WIRE -48 32 -48 -32
WIRE -48 32 -64 32
WIRE -464 48 -464 32
WIRE -192 64 -208 64
WIRE 80 64 80 0
WIRE 80 64 -64 64
WIRE -192 96 -336 96
WIRE -16 96 -16 48
WIRE -16 96 -64 96
WIRE 256 96 256 16
WIRE 256 96 -16 96
WIRE 528 96 256 96
WIRE 672 96 528 96
WIRE 848 96 752 96
WIRE 992 96 848 96
WIRE -464 128 -464 112
WIRE -224 128 -464 128
WIRE -192 128 -224 128
WIRE 48 128 -64 128
WIRE -224 176 -224 128
WIRE 848 192 848 96
WIRE 992 192 992 96
WIRE 256 224 256 96
WIRE -928 240 -928 176
WIRE -336 256 -336 96
WIRE 48 304 48 128
WIRE 96 304 48 304
WIRE 208 304 176 304
WIRE -688 320 -688 272
WIRE -928 368 -928 320
WIRE 848 368 848 256
WIRE 992 368 992 272
WIRE 992 368 848 368
WIRE 256 384 256 320
FLAG 848 368 0
FLAG 848 96 Vo
FLAG 528 96 Vd
FLAG -688 320 0
FLAG -688 192 pwm
FLAG -928 368 0
FLAG -928 176 vdd
FLAG 256 384 0
FLAG 256 -224 vdd
FLAG -208 64 pwm
FLAG -224 176 0
FLAG -272 -128 vdd
FLAG -336 256 vdd
SYMBOL voltage -688 176 R0
WINDOW 3 -121 182 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(12 0 0 1n 1n 2.215u 5u)
SYMATTR InstName V2
SYMBOL ind 656 112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName IL
SYMATTR Value 500µ
SYMBOL cap 832 192 R0
SYMATTR InstName C1
SYMATTR Value 150n
SYMBOL res 976 176 R0
SYMATTR InstName R1
SYMATTR Value 390
SYMBOL IR2104 -128 80 R0
SYMATTR InstName U1
SYMBOL voltage -928 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL nmos 208 224 R0
SYMATTR InstName M2
SYMATTR Value IRF530
SYMBOL res 192 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL cap -32 -16 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL schottky -192 -64 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value D1n5822rl
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap -480 48 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL nmos 208 -80 R0
SYMATTR InstName M1
SYMATTR Value IRF530
SYMBOL res 192 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10
TEXT 1264 272 Left 2 !.tran 0 1m 0 10u
TEXT 1240 80 Left 2 !.MEASURE TRAN Vo AVG(V(Vo)) FROM=0.2ms TO=2ms
TEXT 1240 144 Left 2 !.MEASURE TRAN IL AVG(I(IL)) FROM=0.2ms TO=2ms
TEXT 1264 232 Left 2 !.include IR2104.lib
TEXT 1272 184 Left 2 !.lib 1N5822RL.LIB
TEXT 2016 56 Left 2 !.option noopiter
TEXT 2024 88 Left 2 !.option gmin=1e-9
