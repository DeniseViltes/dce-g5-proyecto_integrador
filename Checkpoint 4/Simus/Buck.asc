Version 4
SHEET 1 2244 824
WIRE 256 -80 256 -224
WIRE 208 0 176 0
WIRE 256 96 256 16
WIRE 256 96 -16 96
WIRE 528 96 256 96
WIRE 672 96 528 96
WIRE 848 96 752 96
WIRE 992 96 848 96
WIRE 848 192 848 96
WIRE 992 192 992 96
WIRE 256 224 256 96
WIRE -1168 240 -1168 176
WIRE -928 240 -928 176
WIRE 64 304 32 304
WIRE 208 304 128 304
WIRE -640 336 -640 288
WIRE -1168 368 -1168 320
WIRE -928 368 -928 320
WIRE 848 368 848 256
WIRE 992 368 992 272
WIRE 992 368 848 368
WIRE 256 384 256 320
FLAG 848 368 0
FLAG 848 96 Vo
FLAG 528 96 Vd
FLAG -640 336 0
FLAG -640 208 pwm
FLAG -928 368 0
FLAG -928 176 vdd
FLAG 256 384 0
FLAG 256 -224 vdd
FLAG -1168 368 0
FLAG -1168 176 vcc
FLAG -16 96 vdd
FLAG 176 0 pwm
FLAG 32 304 pwm
SYMBOL voltage -640 192 R0
WINDOW 3 -135 169 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 12 0 1n 1n {ton} {T})
SYMATTR InstName V2
SYMBOL ind 656 112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName IL
SYMATTR Value 700µ
SYMBOL cap 832 192 R0
SYMATTR InstName C1
SYMATTR Value 150n
SYMBOL res 976 176 R0
SYMATTR InstName R1
SYMATTR Value 330
SYMBOL voltage -928 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {Vin}
SYMBOL nmos 208 -80 R0
SYMATTR InstName M1
SYMATTR Value IRF530
SYMBOL voltage -1168 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL nmos 208 224 R0
SYMATTR InstName M2
SYMATTR Value IRF530
SYMBOL Digital\\inv 64 240 R0
WINDOW 3 8 60 Left 2
SYMATTR InstName A1
SYMATTR Value 10
TEXT 1264 272 Left 2 !.tran 0 1m 0 uic
TEXT 1240 80 Left 2 !.MEASURE TRAN Vo AVG(V(Vo)) FROM=0.2ms TO=2ms
TEXT 1240 144 Left 2 !.MEASURE TRAN IL AVG(I(IL)) FROM=0.2ms TO=2ms
TEXT 1264 232 Left 2 !.include IR2104.lib
TEXT 1272 184 Left 2 !.lib 1N5822RL.LIB
TEXT 2016 56 Left 2 !.option noopiter
TEXT 2024 88 Left 2 ;.option gmin=1e-9
TEXT -864 624 Left 2 !.param TiempoMuerto 380n
TEXT -864 544 Left 2 ;Dutys: {0.52916, 0.17638888}
TEXT -864 728 Left 2 !.param Duty (6.35/Vin * (1+TiempoMuerto/T))
TEXT -856 688 Left 2 !.param fsw  200k
TEXT -872 768 Left 2 !.param ton (Duty/fsw)
TEXT -864 656 Left 2 !.param Vin 12
TEXT -872 808 Left 2 !.param T (1/fsw)
TEXT -464 776 Left 2 ;pierdo 0.03282 del duty
