Version 4
SHEET 1 7364 1088
WIRE 96 -256 -240 -256
WIRE 320 -256 96 -256
WIRE 1232 -256 320 -256
WIRE -240 -240 -240 -256
WIRE 96 -192 96 -256
WIRE 320 -192 320 -256
WIRE 1232 -160 1232 -256
WIRE 1168 -112 1072 -112
WIRE 1008 -64 784 -64
WIRE 1232 -16 1232 -64
WIRE 1232 -16 1072 -16
WIRE 96 48 96 -112
WIRE 320 48 320 -112
WIRE 1232 64 1232 -16
WIRE 1360 64 1232 64
WIRE 1520 64 1360 64
WIRE 208 96 160 96
WIRE 256 96 208 96
WIRE 1232 160 1232 64
WIRE -240 176 -240 -240
WIRE 96 176 96 144
WIRE 208 176 208 96
WIRE 208 176 96 176
WIRE 320 208 320 144
WIRE 784 208 784 -64
WIRE 784 208 320 208
WIRE 96 256 96 176
WIRE 320 256 320 208
WIRE 1360 256 1360 64
WIRE 1520 256 1520 64
WIRE 32 304 -32 304
WIRE 1136 304 384 304
WIRE 1232 304 1232 240
WIRE 1232 304 1136 304
WIRE 1232 336 1232 304
WIRE -32 352 -32 304
WIRE 96 384 96 352
WIRE 208 384 96 384
WIRE 320 384 320 352
WIRE 320 384 208 384
WIRE 208 416 208 384
WIRE -240 528 -240 256
WIRE -32 528 -32 432
WIRE -32 528 -240 528
WIRE 208 528 208 496
WIRE 208 528 -32 528
WIRE 1232 528 1232 416
WIRE 1232 528 208 528
WIRE 1360 528 1360 336
WIRE 1360 528 1232 528
WIRE 1520 528 1520 320
WIRE 1520 528 1360 528
WIRE 208 560 208 528
FLAG 1360 64 Vo
FLAG -32 304 Vref
FLAG -240 -240 VIN
FLAG 1136 304 Vf
FLAG 208 560 0
DATAFLAG 1232 64 ""
DATAFLAG 624 304 ""
SYMBOL pnp 160 144 R180
SYMATTR InstName Q1
SYMATTR Value BD140
SYMBOL pnp 256 144 M180
SYMATTR InstName Q2
SYMATTR Value BD140
SYMBOL npn 32 256 R0
SYMATTR InstName Q3
SYMATTR Value BD139_Cordell
SYMBOL npn 384 256 M0
SYMATTR InstName Q4
SYMATTR Value BD139_Cordell
SYMBOL res 192 400 R0
SYMATTR InstName R1
SYMATTR Value 500
SYMBOL pnp 1168 -64 M180
SYMATTR InstName Q5
SYMATTR Value BD140
SYMBOL npn 1008 -112 R0
SYMATTR InstName Q6
SYMATTR Value BD139_Cordell
SYMBOL res 1216 144 R0
SYMATTR InstName R5
SYMATTR Value 3.16k
SYMBOL res 1216 320 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 1344 240 R0
SYMATTR InstName RL
SYMATTR Value {RL}
SYMBOL voltage -32 336 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC {VREFAC}
SYMATTR InstName V1
SYMATTR Value {VREFDC}
SYMBOL voltage -240 160 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC {VINAC}
SYMATTR InstName VIN
SYMATTR Value {VINDC}
SYMBOL res 80 -208 R0
SYMATTR InstName R8
SYMATTR Value {RE}
SYMBOL res 304 -208 R0
SYMATTR InstName R9
SYMATTR Value {RE}
SYMBOL cap 1504 256 R0
SYMATTR InstName C3
SYMATTR Value 1µ
TEXT -240 560 Left 2 !.op
TEXT -248 624 Left 2 !.param VINDC 12
TEXT -248 664 Left 2 !.param VINAC 1
TEXT 80 624 Left 2 !.param VREFDC 1.2
TEXT 80 664 Left 2 !.param VREFAC 0
TEXT 424 624 Left 2 !.param RL 10
TEXT -248 712 Left 2 !;dc VIN 4 24
TEXT 832 664 Left 2 !;step param RE 1k 1.5k 100
TEXT 832 624 Left 2 !.param RE=470
TEXT 416 664 Left 2 !;.step param RL 1k 5 10
TEXT 1648 -24 Left 2 ;Mido regulacion de linea
TEXT 1648 16 Left 2 !.meas DC Vo1rl FIND V(Vo) AT=12
TEXT 1648 40 Left 2 !.meas DC Vo2rl FIND V(Vo) AT=24
TEXT 1648 64 Left 2 !.meas DC RegLin PARAM ((Vo2rl-Vo1rl)/12)
TEXT 1648 120 Left 2 ;Mido regulacion de carga
TEXT 1648 160 Left 2 !.meas OP Vo1rc FIND V(Vo) AT 100
TEXT 1648 184 Left 2 !.meas OP Vo2rc FIND V(Vo) AT 5
TEXT 1648 208 Left 2 !.meas OP Io1rc FIND I(RL) AT 100
TEXT 1648 232 Left 2 !.meas OP Io2rc FIND I(RL) AT 5
TEXT 1656 296 Left 2 ;Mido eficiencia
TEXT 1656 336 Left 2 ;-100*((V(vo)*I(RL))/(V(VIN)*I(VIN)))
TEXT 1648 256 Left 2 !.meas OP RegCar PARAM (-(Vo2rc-Vo1rc)/(Io2rc-Io1rc))
TEXT 2352 -48 Left 2 !.MODEL BC557 PNP(\n* + IS=3.834E-14\n* + NF=1.008\n* + ISE=1.219E-14\n* + NE=1.528\n* + BF=800\n* + IKF=0.08039\n* + VAF=21.11\n* + NR=1.005\n* + ISC=2.852E-13\n* + NC=1.28\n* + BR=14.84\n* + IKR=0.047\n* + VAR=32.02\n* + RB=1\n* + IRB=1E-06\n* + RBM=1\n* + RE=0.6202\n* + RC=0.5713\n* + XTB=0\n* + EG=1.11\n* + XTI=3\n* + CJE=1.23E-11\n* + VJE=0.6106\n* + MJE=0.378\n* + TF=5.595E-10\n* + XTF=3.414\n* + VTF=5.23\n* + ITF=0.1483\n* + PTF=0\n* + CJC=1.084E-11\n* + VJC=0.1022\n* + MJC=0.3563\n* + XCJC=0.6288\n* + TR=1E-32\n* + CJS=0\n* + VJS=0.75\n* + MJS=0.333\n* + FC=0.8027 )\n+ BF=800\n+)
TEXT 2680 -56 Left 2 !*From Philips SC04 "Small signal transistors 1991"\n* Base spreading parameters (RB,IRB,RBM) estimated. TR derived using BCY58 data\n.model BC546B npn ( IS=7.59E-15 VAF=73.4 BF=480 IKF=0.0962 NE=1.2665\n+ ISE=3.278E-15 IKR=0.03 ISC=2.00E-13 NC=1.2 NR=1 BR=5 RC=0.25 CJC=6.33E-12\n+ FC=0.5 MJC=0.33 VJC=0.65 CJE=1.25E-11 MJE=0.55 VJE=0.65 TF=4.26E-10\n+ ITF=0.6 VTF=3 XTF=20 RB=100 IRB=0.0001 RBM=10 RE=0.5 TR=1.50E-07)
TEXT 2680 144 Left 2 !.MODEL 2SA940 PNP (IS=10F BF=93.7926 VAF=100 IKF=1.43805 ISE=2.91448F\n+ NE=1.22255 BR=7.28345 IKR=1.77264 ISC=84.2577P NC=1.45361 RE=1 RC=413.104M\n+ CJE=2P MJE=500M CJC=214.957P VJC=699.997M MJC=499.87M TF=37.4969N\n+ XTF=500.001M VTF=10 ITF=14.2266M TR=10N)
TEXT 2680 256 Left 2 !.model BD136 PNP(Is=10f Xti=3 Eg=1.11 Vaf=95.7 Bf=178.7 Ise=134.1f Ne=1.553 Ikf=2 Nk=.8366 Xtb=1.5 Br=5 Isc=85f Nc=2 Ikr=0 Rc=0 Cjc=60p Mjc=.4 Vjc=.8 Fc=.8 Cje=115.6p Mje=.3766 Vje=.7703 Tr=116n Tf=500p Itf=1 Xtf=0 Vtf=10 QCO=1E-10 GAMMA=5n RCO=5)
TEXT 2680 304 Left 2 !.MODEL BD139_Cordell npn IS=150f BF=260 VAF=99 IKF=1.2 ISE=70f NE=1.2 NF=1.0 RB=5 RC=0.01 RE=0.08 CJE=293p MJE=0.33 VJE=0.67 CJC=49p MJC=0.39 VJC=0.52 FC=0.5 TF=585p XTF=10000 VTF=35 ITF=20 TR=10n BR=78 IKR=0.14 EG=1.21 XTB=1.14 XTI=3 NC=1.45 ISC=19p NR=1.0 VAR=7.5 IRB=0.03 RBM=0.001 XCJC=0.53 mfg=CA041311
TEXT 2688 352 Left 2 !.MODEL BD140 PNP ( IS=2.9537E-13 BF=201.4 NF=1.0 BR=23.765 NR=1.021 ISE=1.8002E-13 NE=1.5 ISC=7.0433p NC=1.38 VAF=137.0 VAR=8.41 IKF=1.0993 IKR=0.10 RB=1.98 RBM=0.01 IRB=0.011 RE=0.1109 RC=0.01 CJE=2.1982E-10 VJE=0.7211 MJE=0.3685 FC=0.5 CJC=6.8291E-11 VJC=0.5499 MJC=0.3668 XCJC=0.5287 XTB=1.4883 EG=1.2343 XTI=3.0 Vceo=80 Icrating=3 mfg=fairchild)
